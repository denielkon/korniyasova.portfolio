const $host=axios.create({baseURL:"http://localhost:7000/api/"}),caseSLiderPhotosWrapper=document.querySelector(".case-item__slider"),buttonElNext=document.querySelector(".swiper-button-next"),buttonElPrev=document.querySelector(".swiper-button-prev");async function getCase(e){const{data:t}=await $host.post("getCase",{id:e}),i=await $host.get("getCases"),o=document.querySelector(".mobile-photo__wrapper"),s=document.querySelector(".portfolio__loader");if(t){s.remove(),document.querySelector(".case-item").classList.remove("loading");const a=i.data.findIndex(t=>t.id===e),n=i.data[a+1]?i.data[a+1].id:"",r=i.data[a-1]?i.data[a-1].id:"",l=document.querySelectorAll(".cases-nav__link");l[0].innerHTML=n?`<a href="http://localhost:3000/portfolioitem.html?id:${n}" >&#8249; предыдущий кейс</a>`:"<p class='link__inactive'>&#8249; предыдущий кейс</p>",window.innerWidth>767?l[1].innerHTML=r?`<a href="http://localhost:3000/portfolioitem.html?id:${r}" class="cases-nav__link">следующий кейс &#8250;</a>`:"<p class='link__inactive'>следующий кейс &#8250;</p>":l[2].innerHTML=r?`<a href="http://localhost:3000/portfolioitem.html?id:${r}" class="cases-nav__link">следующий кейс &#8250;</a>`:"<p class='link__inactive'>следующий кейс &#8250;</p>",window.innerWidth>767?t.photos.length>1?caseSLiderPhotosWrapper.innerHTML=t.photos.map(e=>`<swiper-slide>\n                  <div class='case-item__slider-item'> \n                     <img src="http://localhost:7000/${e}" class="case-item__photo" alt="">\n                  </div>\n               </swiper-slide>`).join(""):(o.innerHTML=`<div class='case-item__mobile-item'> \n               <img src="http://localhost:7000/${t.photos[0]}" class="case-item__photo" alt="">\n            </div>`,caseSLiderPhotosWrapper.style.display="none",buttonElNext.style.display="none",buttonElPrev.style.display="none"):o.innerHTML=t.photos.map(e=>`<div class='case-item__mobile-item'> \n               <img src="http://localhost:7000/${e}" class="case-item__photo" alt="">\n            </div>`).join(""),document.querySelector(".case-item__operation-name").innerText=t.type,document.querySelector(".case-item__description").innerText=t.description}else s.innerHTML='<p class="not-found-case">Упс, такого кейса не существует</p>'}document.addEventListener("readystatechange",e=>{"interactive"===e.target.readyState?getCase(+location.href.split("id:")[1]):"complete"===e.target.readyState&&window.innerWidth>767&&(buttonElPrev.addEventListener("click",()=>{caseSLiderPhotosWrapper.swiper.slidePrev()}),buttonElNext.addEventListener("click",()=>{caseSLiderPhotosWrapper.swiper.slideNext()}))});